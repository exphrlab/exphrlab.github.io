<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Jiyeong (Joy) Hong Â· EXPHR Lab</title> <link rel="stylesheet" href="../assets/style.css?v=17"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet"> <script src="https://cdn.tailwindcss.com">  // Close on outside click document.addEventListener('click', (e) => { if (!wrapper.contains(e.target)) { hideDropdown(); } }); } // Mobile: Toggle on tap if (isMobile) { link.addEventListener('click', (e) => { e.preventDefault(); const isExpanded = link.getAttribute('aria-expanded') === 'true'; if (isExpanded) { hideDropdown(); } else { showDropdown(); } }); // Close on outside tap document.addEventListener('click', (e) => { if (!wrapper.contains(e.target)) { hideDropdown(); } }); // Close on ESC key document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && link.getAttribute('aria-expanded') === 'true') { hideDropdown(); } }); } }); document.addEventListener('click', (e) => { if (!wrapper.contains(e.target)) { hideDropdown(); } }); } }); showDropdown(); } }); // Close on outside click document.addEventListener('click', (e) => { if (!contactWrapper.contains(e.target) && isOpen) { hideDropdown(); } }); } // Desktop: CSS group-hover handles it, but we sync aria-expanded if (hasHover) { contactWrapper.addEventListener('mouseenter', () => { showDropdown(); }); contactWrapper.addEventListener('mouseleave', () => { hideDropdown(); }); // On desktop, clicking Contact should navigate (not toggle) // CSS group-hover already handles the dropdown visibility } // Keyboard navigation contactLink.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { if (isMobile) { e.preventDefault(); if (isOpen) { hideDropdown(); } else { showDropdown(); } } } else if (e.key === 'ArrowDown' && !isOpen) { e.preventDefault(); showDropdown(); } else if (e.key === 'Escape' && isOpen) { e.preventDefault(); hideDropdown(); contactLink.focus(); } }); // Keyboard navigation within dropdown const menuItems = contactDropdown.querySelectorAll('[role="menuitem"]'); menuItems.forEach((item, index) => { item.addEventListener('keydown', (e) => { if (e.key === 'ArrowDown') { e.preventDefault(); const next = menuItems[index + 1] || menuItems[0]; next?.focus(); } else if (e.key === 'ArrowUp') { e.preventDefault(); const prev = menuItems[index - 1] || menuItems[menuItems.length - 1]; prev?.focus(); } else if (e.key === 'Escape') { e.preventDefault(); hideDropdown(); contactLink.focus(); } }); }); // Close on Escape key document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && isOpen) { hideDropdown(); contactLink.focus(); } }); })(); </script> <script> tailwind.config = { theme: { extend: { fontFamily: { serif: ['Merriweather', 'Georgia', 'Cambria', 'serif'], sans: ['Inter', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'sans-serif'], } } } } </script> <style>  /* This MUST work - highest specificity possible */ /* Hide by default - override everything */  /* Show on hover - override everything including inline styles */  /* Show on link hover */  /* Keyboard navigation */  </style> <style>  /* Ensure wrapper and header allow overflow for dropdown */ header, nav,  /* Hide dropdown by default */  /* Show dropdown on wrapper hover */  /* Show dropdown on link hover (fallback) */  else { initDropdowns(); } function initDropdowns() { const isMobile = window.matchMedia('(max-width: 768px)').matches && 'ontouchstart' in window && !window.matchMedia('(hover: hover)').matches; let hoverTimeout = null; const HOVER_DELAY = 150; function setupDropdown(dropdownId, buttonId, wrapperId) { const dropdown = document.getElementById(dropdownId); const button = document.getElementById(buttonId); const wrapper = document.getElementById(wrapperId); if (!dropdown || !button || !wrapper) { console.warn(\'Dropdown elements not found:\', { dropdownId, buttonId, wrapperId }); return; } let isOpen = false; let closeTimeout = null; const chevron = button.querySelector('svg'); function openDropdown() { if (isOpen) return; clearTimeout(closeTimeout); dropdown.classList.remove('opacity-0', 'invisible', 'pointer-events-none', '-translate-y-2'); dropdown.classList.add('opacity-100', 'visible', 'pointer-events-auto'); dropdown.classList.remove('-translate-y-2'); dropdown.classList.add('translate-y-0'); button.setAttribute('aria-expanded', 'true'); if (chevron) chevron.classList.add('rotate-180'); isOpen = true; // Focus first item on keyboard open const firstItem = dropdown.querySelector('[role="menuitem"]'); if (firstItem && document.activeElement === button) { setTimeout(() => firstItem.focus(), 0); } } function closeDropdown() { if (!isOpen) return; clearTimeout(closeTimeout); closeTimeout = setTimeout(() => { dropdown.classList.remove('opacity-100', 'visible', 'pointer-events-auto', 'translate-y-0'); dropdown.classList.add('opacity-0', 'invisible', 'pointer-events-none', '-translate-y-2'); button.setAttribute('aria-expanded', 'false'); if (chevron) chevron.classList.remove('rotate-180'); isOpen = false; }, 200); } function closeDropdownImmediate() { clearTimeout(closeTimeout); dropdown.classList.remove('opacity-100', 'visible', 'pointer-events-auto', 'translate-y-0'); dropdown.classList.add('opacity-0', 'invisible', 'pointer-events-none', '-translate-y-2'); button.setAttribute('aria-expanded', 'false'); if (chevron) chevron.classList.remove('rotate-180'); isOpen = false; } // Desktop: hover behavior (immediate show on hover) // Always enable hover on desktop, only disable on true mobile devices if (!isMobile || window.matchMedia('(hover: hover)').matches) { // Add hover to wrapper - this is the main trigger const handleWrapperEnter = () => { clearTimeout(closeTimeout); openDropdown(); };  ); } // Keep dropdown open when hovering over it dropdown.addEventListener('mouseenter', () => { clearTimeout(closeTimeout); // Ensure dropdown stays open if (!isOpen) { openDropdown(); } }); dropdown.addEventListener('mouseleave', closeDropdown); } // Click to toggle (works on both desktop and mobile) button.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); // Force open on click, even if hover already opened it if (isOpen) { closeDropdownImmediate(); } else { // Close other dropdowns first document.querySelectorAll('[role="menu"]').forEach(menu => { if (menu !== dropdown) { menu.classList.remove('opacity-100', 'visible', 'pointer-events-auto', 'translate-y-0'); menu.classList.add('opacity-0', 'invisible', 'pointer-events-none', '-translate-y-2'); const otherButton = document.querySelector(`[aria-controls="${menu.id}"]`) || document.querySelector(`button[aria-expanded="true"]`); if (otherButton && otherButton !== button) { otherButton.setAttribute('aria-expanded', 'false'); const otherChevron = otherButton.querySelector('svg'); if (otherChevron) otherChevron.classList.remove('rotate-180'); } } }); // Always open on click openDropdown(); } }, true); // Use capture phase to ensure it fires"]`) || document.querySelector(`button[aria-expanded="true"]`); if (otherButton) { otherButton.setAttribute('aria-expanded', 'false'); const otherChevron = otherButton.querySelector('svg'); if (otherChevron) otherChevron.classList.remove('rotate-180'); } } }); openDropdown(); } }); } // Keyboard navigation button.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); if (isOpen) { closeDropdownImmediate(); } else { openDropdown(); } } else if (e.key === 'ArrowDown' && !isOpen) { e.preventDefault(); openDropdown(); } }); // Keyboard navigation within dropdown const menuItems = dropdown.querySelectorAll('[role="menuitem"]'); menuItems.forEach((item, index) => { item.addEventListener('keydown', (e) => { if (e.key === 'ArrowDown') { e.preventDefault(); const next = menuItems[index + 1] || menuItems[0]; next?.focus(); } else if (e.key === 'ArrowUp') { e.preventDefault(); const prev = menuItems[index - 1] || menuItems[menuItems.length - 1]; prev?.focus(); } else if (e.key === 'Escape') { e.preventDefault(); closeDropdownImmediate(); button.focus(); } }); }); // Focus management button.addEventListener('focus', () => { if (!isMobile) { openDropdown(); } }); button.addEventListener('blur', (e) => { clearTimeout(hoverTimeout); // Don't close if focus is moving to dropdown if (!dropdown.contains(e.relatedTarget)) { closeDropdown(); } }); // Close on outside click (mobile) if (isMobile) { document.addEventListener('click', (e) => { if (!wrapper.contains(e.target) && isOpen) { closeDropdownImmediate(); } }); } } // Initialize dropdowns // News dropdown removed - now a simple link // Handle window resize let resizeTimer; window.addEventListener('resize', () => { clearTimeout(resizeTimer); resizeTimer = setTimeout(() => { const newIsMobile = window.matchMedia('(max-width: 768px)').matches; if (newIsMobile !== isMobile) { location.reload(); // Simple approach: reload on breakpoint change } }, 250); }); // ESC key to close all dropdowns document.addEventListener('keydown', function(e) { if (e.key === 'Escape') { document.querySelectorAll('[role="menu"]').forEach(menu => { }); document.querySelectorAll('button[aria-expanded="true"]').forEach(btn => { btn.setAttribute('aria-expanded', 'false'); const chev = btn.querySelector('svg'); if (chev) chev.classList.remove('rotate-180'); }); } }); })(); </script> </body> </html> 